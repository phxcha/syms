58爆料网每日精选最新消息

本项目可大致划分为以下三层：

    抽象层：将底层网络通信、应用层通信协议、请求响应进行抽象，使项目更具扩展性和灵活性；
    具象层：针对抽象的功能进行具体实现；
    业务层：基于抽象的框架在上层实现项目所需功能。

抽象层

在本项目中，网络通信部分使用第三方库Muduo库，LV格式的通信协议解决粘包问题，以及Json格式进行序列化和反序列化，而这几方面后续都可能会持续优化，比如用替换JSON为Protobuf，迁移到gRPC框架等。

因此我们可以在设计项目框架的时候，对于底层通信部分相关功能进行抽象，上层业务部分根据抽象层来完成功能，这样做的好处是在具体的底层功能实现部分，我们可以实现插拔式的模块化替换，以此来提高项目的灵活性和可扩展性。
优化场景	无抽象层	有抽象层
替换JSON为Protobuf	需修改所有业务代码	仅替换序列化模块实现
迁移到gRPC框架	重构网络通信逻辑	实现新抽象层适配器即可
增加压缩功能	侵入式修改协议处理流程	在抽象层插入压缩/解压中间件
本项目可大致划分为以下三层：

    抽象层：将底层网络通信、应用层通信协议、请求响应进行抽象，使项目更具扩展性和灵活性；
    具象层：针对抽象的功能进行具体实现；
    业务层：基于抽象的框架在上层实现项目所需功能。

抽象层

在本项目中，网络通信部分使用第三方库Muduo库，LV格式的通信协议解决粘包问题，以及Json格式进行序列化和反序列化，而这几方面后续都可能会持续优化，比如用替换JSON为Protobuf，迁移到gRPC框架等。

因此我们可以在设计项目框架的时候，对于底层通信部分相关功能进行抽象，上层业务部分根据抽象层来完成功能，这样做的好处是在具体的底层功能实现部分，我们可以实现插拔式的模块化替换，以此来提高项目的灵活性和可扩展性。
优化场景	无抽象层	有抽象层
替换JSON为Protobuf	需修改所有业务代码	仅替换序列化模块实现
迁移到gRPC框架	重构网络通信逻辑	实现新抽象层适配器即可
增加压缩功能	侵入式修改协议处理流程	在抽象层插入压缩/解压中间件
